# MINISHELL

---

## **7_builtin**

---

### **xbuiltin**

```c
t_status xbuiltin(char *path, char **argv, t_info *info);
```

---

### **概要**

`xbuiltin` は、組み込みコマンド（builtin command）を実行し、その結果を返す関数です。  
組み込みコマンドでない場合は、適切な値を返して終了します。

---

### **引数**

| **引数**     | **型**             | **説明**                           |
|--------------|-------------------|----------------------------------|
| `path`       | `char *`          | 実行するコマンドのパス             |
| `argv`       | `char **`         | コマンドとその引数の配列           |
| `info`       | `t_info *`        | 実行時に必要な情報構造体へのポインタ |

---

### **戻り値**

| **戻り値**       | **説明**                                        |
|------------------|-----------------------------------------------|
| `0 (E_NONE)`     | 実行されたコマンドが **builtin** ではない場合   |
| `非0 (t_status)` | **builtin** コマンドが正常に実行された場合      |

---

### **動作の詳細**

1. **builtinコマンドの判定と実行**  
   - コマンドが `builtin` コマンドであるかどうかを判定します。  
   - `builtin` コマンドであれば、そのコマンドを実行し、実行結果を `t_status` として返します。

2. **組み込みコマンドではない場合**  
   - **`0`（E_NONE）** を返して終了します。

3. **パイプ処理と子プロセス**  
   - コマンドがパイプ経由で渡される場合は、**子プロセス** で `builtin` コマンドを実行します。  

4. **絶対パスでの処理**  
   - 絶対パスで渡されたコマンドについては、ここでは考慮する必要はありません（子プロセスで処理されるため）。

---

### **補足**

- **パイプ処理**  
  組み込みコマンドがパイプの一部として渡される場合、子プロセスで実行するため、元のプロセスには影響しません。

- **絶対パスの処理**  
  絶対パスが指定された場合は `builtin` コマンドとして扱われないため、ここでの実装は不要です。

---

### **使用例**

```c
t_info info;
char *cmd = "cd";
char *args[] = {"cd", "/home", NULL};

t_status status = xbuiltin(cmd, args, &info);

if (status != 0) {
    printf("Builtin command executed successfully.\n");
} else {
    printf("Not a builtin command.\n");
}
```

---

### **注意事項**

- **`argv` の内容**  
  引数の配列 `argv` には、コマンド本体とその引数を格納してください。  
  配列の末尾には必ず `NULL` を設定する必要があります。

- **`t_status` の値**  
  `builtin` コマンドが実行された場合、`0` 以外の値が返される点に注意してください。

---